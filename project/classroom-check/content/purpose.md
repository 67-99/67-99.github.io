# 设计初衷

在日常学习中，有时会有自习或与他人通话的需求，而在寝室内，这些活动容易与他人的语音（如游戏、娱乐）冲突，互相干扰。因此，在校内找到一个安静无人的空间显得尤为重要。

虽然中南大学在A座的传达室内有一天内各时间段的空闲教室情况，但传达室每个时间段只能提供5个教室，且很容易遇到自习的同学，因此自己开发一个教室空闲情况的显示便提上了日程。

### 数据来源

为了得到教室的占用情况，获取全校课表便是重中之重。幸运的是，在中南大学本科生教务系统中有[课表查询功能](http://csujwc.its.csu.edu.cn/jiaowu/pkgl/llsykb/llsykb_frm.jsp?isview=1)，通过在“按时间查询”仅输入<code>校区</code>字段便可以获取一个校区中的课表Excel，里面包含了班级、课程、教师、时间等信息。

### 格式设计

在最一开始设计时使用的是<code>pyQt</code>框架，所以支持读取**Excel**文件；后来将整个程序迁移至<code>C++</code>的<code>Qt</code>框架，为了不引入其他库（一是C++使用库过于麻烦，二是引入新的库会增加编写与打包的难度），仅支持**以逗号分隔的csv**文件。于是在移植到html文件中时便于<code>Qt</code>版保持一致，仅支持**以逗号分隔的csv**文件。

![桌面版](content/resource/app.png)

### 功能设计

教室查询最基本的是确定查询对象。在设计时为了兼容其他符合格式的文件，周次与节次为动态控制，而查询是以楼栋为字段分为不同的表。表中的不同方块表示不同时段，其中<span style="color: green;">绿色</span>表示空闲，<span style="color: red;">红色</span>表示占用，并会根据课表显示人数。

当加载文件为默认文件时，系统会根据时间使用<span style="color: orange;">黄色（橙色）</span>标记表示该教室上一节课刚结束不久，可能仍有人员滞留。

### 注意事项

由于临时调课、选修课与考试安排会不断随时间更新，因此默认表是有滞后性的，仅供参考。若想获取最新教室情况，请从[本科生教务](http://csujwc.its.csu.edu.cn/jsxsd/view/xskb/queryglkb.jsp)-各类课表查询中下载最新课表，并另存为**以逗号分隔的csv**文件上传至网页。